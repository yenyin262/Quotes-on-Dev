$(function(){$("#quote-button").on("click",function(e){e.preventDefault(),$.ajax({method:"GET",url:pro_quotes.rest_url+"wp/v2/posts?filter[orderby]=rand&[posts_per_page]=1",beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",pro_quotes.wpapi_nonce)}}).done(function(e){$(".quotesbyauthor").html(e[0].content.rendered),$(".author_dev").html("- "+e[0].title.rendered);const o=e[0]._qod_quote_source_url,t=e[0]._qod_quote_source;o?(console.log("in url"),$(".source").html(`, <a class="sourceLink" href=${o}>${t}</a></span >`)):t?(console.log("in source"),$(".source").html(`, <span class="source">${t}</span>`)):(console.log("in else"),$(".source").html("")),history.pushState(null,null,"/Project_5/"+e[0].slug)}).fail(function(e){alert("Unable to collect data")})});const e=$("#author-name"),o=$("#newQuote"),t=$("#findQuote"),u=$("#quoteSource");$("#submitButton").on("click",function(n){n.preventDefault(),$.ajax({method:"POST",url:pro_quotes.rest_url+"wp/v2/posts",beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",pro_quotes.wpapi_nonce)},data:{title:e.val(),content:o.val(),_qod_quote_source:t.val(),_qod_quote_source_url:u.val(),post_status:"draft"}}).done(function(e){alert("Quote sucessfully submitted to database"),$("#quote-form")[0].reset(),console.log("done!")}).fail(function(e){console.log("fail"),alert("Quote submission unsuccessful")})})});